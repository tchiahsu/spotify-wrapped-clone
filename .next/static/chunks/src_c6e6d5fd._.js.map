{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/tonyhsu/Desktop/projects/spotify-wrapped/src/lib/pkce.tsx"],"sourcesContent":["/**\n * Randomly generates a unique verifier\n */\nexport function generateCodeVerifier(length: number) {\n    let text = \"\";\n    const possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n\n    for (let i = 0; i < length; i++) {\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\n    }\n    return text;\n}\n\n/**\n * Generates a code challenge that is passed in the URL for authentication\n */\nexport async function generateCodeChallenge(codeVerifier: string) {\n    const data = new TextEncoder().encode(codeVerifier);\n    const digest = await window.crypto.subtle.digest('SHA-256', data);\n    return btoa(String.fromCharCode.apply(null, [...new Uint8Array(digest)]))\n        .replace(/\\+/g, '-')\n        .replace(/\\//g, '_')\n        .replace(/=+$/, '');\n}"],"names":[],"mappings":"AAAA;;CAEC;;;;;;AACM,SAAS,qBAAqB,MAAc;IAC/C,IAAI,OAAO;IACX,MAAM,WAAW;IAEjB,IAAK,IAAI,IAAI,GAAG,IAAI,QAAQ,IAAK;QAC7B,QAAQ,SAAS,MAAM,CAAC,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,SAAS,MAAM;IACtE;IACA,OAAO;AACX;AAKO,eAAe,sBAAsB,YAAoB;IAC5D,MAAM,OAAO,IAAI,cAAc,MAAM,CAAC;IACtC,MAAM,SAAS,MAAM,OAAO,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,WAAW;IAC5D,OAAO,KAAK,OAAO,YAAY,CAAC,KAAK,CAAC,MAAM;WAAI,IAAI,WAAW;KAAQ,GAClE,OAAO,CAAC,OAAO,KACf,OAAO,CAAC,OAAO,KACf,OAAO,CAAC,OAAO;AACxB","debugId":null}},
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///Users/tonyhsu/Desktop/projects/spotify-wrapped/src/lib/cookies.tsx"],"sourcesContent":["export function setCookie(name: string, value: string, maxAgeSeconds: number) {\n  document.cookie = `${encodeURIComponent(name)}=${encodeURIComponent(value)}; Max-Age=${maxAgeSeconds}; Path=/; SameSite=Lax; Secure`;\n}\n\nexport function getCookie(name: string): string | null {\n  const key = `${encodeURIComponent(name)}=`;\n  const parts = document.cookie.split(\"; \");\n  const found = parts.find((p) => p.startsWith(key));\n  return found ? decodeURIComponent(found.substring(key.length)) : null;\n}\n\nexport function deleteCookie(name: string) {\n  document.cookie = `${encodeURIComponent(name)}=; Max-Age=0; Path=/; SameSite=Lax; Secure`;\n}"],"names":[],"mappings":";;;;;;;;AAAO,SAAS,UAAU,IAAY,EAAE,KAAa,EAAE,aAAqB;IAC1E,SAAS,MAAM,GAAG,AAAC,GAA8B,OAA5B,mBAAmB,OAAM,KAAyC,OAAtC,mBAAmB,QAAO,cAA0B,OAAd,eAAc;AACvG;AAEO,SAAS,UAAU,IAAY;IACpC,MAAM,MAAM,AAAC,GAA2B,OAAzB,mBAAmB,OAAM;IACxC,MAAM,QAAQ,SAAS,MAAM,CAAC,KAAK,CAAC;IACpC,MAAM,QAAQ,MAAM,IAAI,CAAC,CAAC,IAAM,EAAE,UAAU,CAAC;IAC7C,OAAO,QAAQ,mBAAmB,MAAM,SAAS,CAAC,IAAI,MAAM,KAAK;AACnE;AAEO,SAAS,aAAa,IAAY;IACvC,SAAS,MAAM,GAAG,AAAC,GAA2B,OAAzB,mBAAmB,OAAM;AAChD","debugId":null}},
    {"offset": {"line": 61, "column": 0}, "map": {"version":3,"sources":["file:///Users/tonyhsu/Desktop/projects/spotify-wrapped/src/components/Button.tsx"],"sourcesContent":["import React from \"react\";\n\ntype ButtonProps = {\n    children: React.ReactNode;\n    onClick?: () => void;\n};\n\nconst Button = ({ children, onClick }: ButtonProps) => {\n    return (\n        <button\n            onClick={onClick}\n            className=\"bg-[#1db954] w-1/6 min-w-[14em] max-w-[15em] px-6 py-3 rounded-full font-bold text-black hover:bg-[#1ed760] hover:scale-105 transition-opacity duration-75 active:scale-100 active:bg-[#1db954] active:opacity-95\"\n        >\n            {children}\n        </button>\n    )\n}\n\nexport default Button;"],"names":[],"mappings":";;;;;;AAOA,MAAM,SAAS;QAAC,EAAE,QAAQ,EAAE,OAAO,EAAe;IAC9C,qBACI,6LAAC;QACG,SAAS;QACT,WAAU;kBAET;;;;;;AAGb;KATM;uCAWS","debugId":null}},
    {"offset": {"line": 90, "column": 0}, "map": {"version":3,"sources":["file:///Users/tonyhsu/Desktop/projects/spotify-wrapped/src/app/page.tsx"],"sourcesContent":["\"use client\"\nimport { generateCodeVerifier, generateCodeChallenge } from \"lib/pkce\";\nimport { useRouter } from \"next/navigation\";\nimport { setCookie } from \"lib/cookies\";\nimport { useAuth } from \"context/AuthContext\";\nimport Button from \"../components/Button\";\nimport Image from \"next/image\";\n\nexport default function Home() {\n  const clientId = \"c6b35cbf9fae4e6c82677484b1f0d84b\";\n  const params = new URLSearchParams();\n  const router = useRouter();\n  const { setClientId } = useAuth();\n  const prefix = process.env.NEXT_PUBLIC_BASE_PATH ?? \"\";\n\n  /**\n   * A new URLSearchParams object is created. It adds the client_id, response_type, redirect_uri and scope\n   * parameters to it. The redirect_uri parameter is the URL that Spotify will redirect the user back to \n   * after they've authorized the application.\n   */\n  const handleLogIn = async () => {\n      const verifier = generateCodeVerifier(128)\n      const challenge = await generateCodeChallenge(verifier)\n      const redirectUri = `https://tchiahsu.github.io/spotify-wrapped-clone/callback`;\n\n      // Keep information for ~10 minutes\n      setCookie(\"verifier\", verifier, 600);\n      setCookie(\"client_id\", clientId, 600);\n\n      setClientId(clientId);\n\n      params.append(\"client_id\", clientId);\n      params.append(\"response_type\", \"code\");\n      params.append(\"redirect_uri\", redirectUri);\n      params.append(\"scope\", \"user-read-private user-read-email user-top-read playlist-modify-public playlist-modify-private user-read-recently-played\");\n      params.append(\"code_challenge_method\", \"S256\");\n      params.append(\"code_challenge\", challenge)\n\n      router.push(`https://accounts.spotify.com/authorize?${params.toString()}`)\n  };\n\n  return (\n    <>\n      <main className=\"flex flex-col h-screen w-screen justify-center items-center mt-[-50px] gap-7 sm:items-center\">\n        {/* Spotify Logo */}\n        <Image\n          src={`${prefix}/spotify_white.png`}\n          alt=\"spotify logo\"\n          width={50}\n          height={50}\n        />\n\n        {/* Intro Title */}\n        <div className=\"flex flex-col gap-2 items-center\">\n          <div className=\"text-6xl font-bold text-center\">Your Year in Music Awaits!</div>\n          <div className=\"text-xl text-center\">Log in to relive the songs, artists, and moments that defined your year.</div>\n        </div>\n\n        {/* Log In Button */}\n        <Button onClick={handleLogIn}>Log In</Button>\n      </main>\n      <footer className=\"flex flex-col justify-center items-center text-center text-xs text-[#7c7c7c]\">\n        <div>Built with Next.js & Spotify Web API | Not affiliated with Spotify.</div>\n        <div>Â© 2025 Tony Hsu Tai</div>\n      </footer>\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;AAaiB;;AAZjB;AACA;AACA;AACA;AACA;AACA;;;AANA;;;;;;;AAQe,SAAS;;IACtB,MAAM,WAAW;IACjB,MAAM,SAAS,IAAI;IACnB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,EAAE,WAAW,EAAE,GAAG,IAAA,4IAAO;QAChB;IAAf,MAAM,SAAS,CAAA,uFAAA,gDAAA,qCAAqC;IAEpD;;;;GAIC,GACD,MAAM,cAAc;QAChB,MAAM,WAAW,IAAA,8IAAoB,EAAC;QACtC,MAAM,YAAY,MAAM,IAAA,+IAAqB,EAAC;QAC9C,MAAM,cAAe;QAErB,mCAAmC;QACnC,IAAA,sIAAS,EAAC,YAAY,UAAU;QAChC,IAAA,sIAAS,EAAC,aAAa,UAAU;QAEjC,YAAY;QAEZ,OAAO,MAAM,CAAC,aAAa;QAC3B,OAAO,MAAM,CAAC,iBAAiB;QAC/B,OAAO,MAAM,CAAC,gBAAgB;QAC9B,OAAO,MAAM,CAAC,SAAS;QACvB,OAAO,MAAM,CAAC,yBAAyB;QACvC,OAAO,MAAM,CAAC,kBAAkB;QAEhC,OAAO,IAAI,CAAC,AAAC,0CAA2D,OAAlB,OAAO,QAAQ;IACzE;IAEA,qBACE;;0BACE,6LAAC;gBAAK,WAAU;;kCAEd,6LAAC,2IAAK;wBACJ,KAAK,AAAC,GAAS,OAAP,QAAO;wBACf,KAAI;wBACJ,OAAO;wBACP,QAAQ;;;;;;kCAIV,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;0CAAiC;;;;;;0CAChD,6LAAC;gCAAI,WAAU;0CAAsB;;;;;;;;;;;;kCAIvC,6LAAC,0IAAM;wBAAC,SAAS;kCAAa;;;;;;;;;;;;0BAEhC,6LAAC;gBAAO,WAAU;;kCAChB,6LAAC;kCAAI;;;;;;kCACL,6LAAC;kCAAI;;;;;;;;;;;;;;AAIb;GA3DwB;;QAGP,kJAAS;QACA,4IAAO;;;KAJT","debugId":null}}]
}